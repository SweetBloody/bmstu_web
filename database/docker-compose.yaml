version: '3.7'

volumes:
  postgres:

# TODO: https://github.com/nextcloud/docker/issues/345

services:
  postgres:
    container_name: course_db
    image: postgres
    environment:
      POSTGRES_USER: postgresql
      POSTGRES_PASSWORD: postgresql
      PGDATA: /var/lib/postgresql/data
    volumes:
        - postgres:/var/lib/postgresql/data
        - .:/db_data
    ports:
        - 1000:5432
    networks:
        - my_persistent_network

networks:
  my_persistent_network:
    driver: bridge
